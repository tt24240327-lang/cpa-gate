# 🚀 [실전 실행 지시서] CPA 인터셉터 시스템 단계별 구축

**수신:** 개발 담당자  
**발신:** 프로젝트 총괄 (행님)  
**지침:** 지시된 4단계를 순차적으로 수행하며, 각 단계 완료 시마다 총괄 관리자(행님)의 승인을 득한 후 다음 단계로 진행할 것.

---

## 🛠️ 실전 실행 4단계 (Execution Steps)

#### **1단계: 서버 환경 및 프록시(Proxy) 연결 (UI 복제)**
- **할 일:** 우리 도메인 접속 시 개발자가 만든 페이지가 아닌, 원본 CPA 주소(`replyalba...` 등)의 HTML/자원을 실시간으로 로드(Proxy)한다.
- **핵심:** 이미지 깨짐, 폰트 틀어짐 없이 원본과 100% 동일한 화면이 출력되어야 함.
- **검수 기준:** 브라우저 주소창은 우리 도메인이지만, 화면은 원본 본진과 완벽히 일치할 것.

#### **2단계: 파라미터(`?k=`) 기반 헤드라인 치환**
- **할 일:** 유입 파라미터(`k`)와 매칭되는 텍스트(예: 누수, 이사 등)를 페이지 최상단 메인 카피에 동적으로 삽입한다.
- **핵심:** 손님이 블로그에서 본 키워드와 랜딩 페이지 제목이 일치해야 함.
- **검수 기준:** URL 파라미터 변경 시 페이지 헤드라인이 실시간으로 동기화될 것.

#### **3단계: 데이터 인터셉터(Interceptor) 및 구글 시트 연결**
- **할 일:** 복제된 페이지의 [신청하기] 버튼 클릭 시, 데이터를 우리 서버 API로 먼저 전송하고 이를 **구글 스프레드시트**와 **텔레그램**에 즉시 기록한다.
- **핵심:** 수익의 핵심인 '데이터 선점' 단계. 한글 깨짐 절대 금지(UTF-8).
- **검수 기준:** 가짜 데이터 입력 시, 관리자 텔레그램 알림 발송 및 구글 시트 기록 여부 확인.

#### **4단계: 최종 포워딩(Data Forwarding) 처리**
- **할 일:** 우리 DB 저장이 완료된 직후, 수집된 데이터를 타겟 사이트(CPA 본진)의 실제 서버로 POST 전송하여 상담 접수를 마무리한다.
- **핵심:** 유저는 우리 사이트에서 나가지 않고 최종 접수까지 완료되어야 함.
- **검수 기준:** 우리 장부와 CPA 본진 장부에 동일한 데이터가 동시에 기록될 것.

---

## ⚠️ 개발자 긴급 숙제 (주무시기 전 체크 항목)
> **"니 딴 거 하지 말고 지금 당장 '1단계 프록시 연결'이랑 '3단계 텔레그램 알람' 요 두 개만 먼저 연동해서 나한테 링크 보내라. 내가 내 폰으로 눌러서 텔레그램 오는지 확인하고 잘란다."**

---

## 📋 완료 보고 양식 (개발자 제출용)

1. **1단계 (UI 복사):** [ ] 완료 / [ ] 미흡 (사유: )
2. **2단계 (키워드 매칭):** [ ] 완료 / [ ] 미흡 (사유: )
3. **3단계 (DB/텔레그램):** [ ] 완료 / [ ] 미흡 (사유: )
4. **4단계 (최종 접수):** [ ] 완료 / [ ] 미흡 (사유: )
5. **특이 사항:** 

---
**2026-01-27 프로젝트 총괄 (행님) 拜上**
